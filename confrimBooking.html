<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirm Booking</title>
    <!-- Css -->
    <link rel="stylesheet" href="style.css">
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- font awesome cdn -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

      <!-- font -->
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- naviagtion starts -->
    <nav class="navbar navbar-expand-lg" id="navbar">
        <div class="container">
          <a class="navbar-brand" href="index.html"id="logo"><span>Travel</span>Sphere</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
            <span><i class="fa-solid fa-bars"></i></span>
          </button>
          <!-- nav links -->
          
            
          <div class="collapse navbar-collapse" id="mynavbar">
           
             <p class="nav-p">Explore the World, One Click at a Time</p>
            <form class="d-flex" onsubmit="handleSearch(event)">
              <input class="form-control me-2"
              id="search" 
              type="search" 
              placeholder="Search" 
              aria-label="Search">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </form> 
            
             
          </div>
        </div>
      </nav>
      <!-- nav end-->
       <!-- bookimg -->
       <div class="cont">
        <h2><span>Booking</span> Confirmation</h2>
        <p><strong>Destination:</strong><span id="displayDestination"></span></p>
        <p><strong>Number of Travellers:</strong><span id="displayTravellers"></span></p>
        <p><strong>Destination Date:</strong><span id="displayDestinationDate"></span></p>
        <p><strong>Leaving Date:</strong><span id="displayLeavingDate"></span></p>
        <p><strong>Details:</strong><span id="displayDetails"></span></p>
        <p><strong>Total Amount:</strong> <span id="displayPrice"></span></p>
        <button class="btnn">Confirm</button>
    </div>
    
        <script>
          window.onload = function() {
  // Retrieve the stored data from localStorage
  const whereTo = localStorage.getItem('whereTo');
  const numTravellers = localStorage.getItem('numTravellers');
  const destinationDate = localStorage.getItem('destinationDate');
  const leavingDate = localStorage.getItem('leavingDate');
  const details = localStorage.getItem('details');

  // Log to see if data is retrieved correctly
  console.log('Where to:', whereTo);
  console.log('Number of Travellers:', numTravellers);
  console.log('Destination Date:', destinationDate);
  console.log('Leaving Date:', leavingDate);
  console.log('Details:', details);

  // Function to format date string into a more readable format (optional)
  function formatDate(dateStr) {
    const date = new Date(dateStr); // Convert string to date
    return date.toLocaleDateString(); // Format the date
  }

  // Display the data on the page if it exists
  if (whereTo && numTravellers && destinationDate && leavingDate && details) {
    document.getElementById('displayDestination').textContent = whereTo;
    document.getElementById('displayTravellers').textContent = numTravellers;
    document.getElementById('displayDestinationDate').textContent = formatDate(destinationDate); // Format the destination date
    document.getElementById('displayLeavingDate').textContent = formatDate(leavingDate); // Format the leaving date
    document.getElementById('displayDetails').textContent = details;

    // Calculate and display the total price
    const packagePrice = getPackagePrice(whereTo);  
    const totalPrice = numTravellers * packagePrice;
    document.getElementById('displayPrice').textContent = `Rs ${totalPrice}`;  // Display price
  } else {
    console.error('One or more data points are missing!');
  }
};

// Function to get the package price based on destination
function getPackagePrice(destination) {
  const prices = {
    'Pakistan': 25000,
    'France': 107000,
    'Italy': 45000,
    'Spain': 120000,
    'Germany': 100000,
    'Switzerland': 123000,
    'United States': 98000,
    'Turkey': 100000,
    'Mexico': 130000,
    'Dubai': 98000,
    'United Kingdom': 50000
  };
  return prices[destination] || 0;  // Default to 0 if the destination is not found
}

        </script>
        <!-- footer starts -->
        <footer>
          <div class="container">
            <div class="footer-content">
              <h3>Contact Us</h3>
              <p>Phone: 0313-7499441</p>
              <p>Email: m.hanainehsanpk@gmail.com</p>
              <p>Address: Street-77, Gujrat</p>
            </div>

            <div class="footer-content">
                <h3>Quick approach</h3>
                <ul class="list">
                  <li><a href="index.html">Home</a></li>
                  <li><a href="#about">About Us</a></li>
                  <li><a href="#services">Services</a></li>
                  <li><a href="#package">Packages</a></li>
                  <li><a href="#gallery">Gallery</a></li>
                </ul>
            </div>
            <div class="social-icons">
              <h3>Follow Us</h3>
              <li><a href=""><i class="fa-brands fa-instagram"></i></a></li>
              <li><a href=""><i class="fa-brands fa-facebook"></i></a></li>
              <li><a href=""><i class="fa-brands fa-twitter"></i></a></li>
              <li><a href=""><i class="fa-brands fa-github"></i></a></li>
              <li><a href=""><i class="fa-brands fa-linkedin"></i></a></li>
            </div>
          </div>
          <div class="border-box">
            <p>&copy; 2024 TravelSphere. All rights reserved.</p>
          </div>
          
          <!--  -->
        </footer>
    </body>
</html>